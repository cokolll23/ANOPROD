import{L as v,aL as D,aM as O,N as E,Y as x,aD as M,x as p,R as U,e as u,z as i,V as o,y as d,W as f,aw as S,ax as A,K as r,c5 as s,c6 as $}from"./index.a1748043.js";import{p as y}from"./KtViewCounter.d7f8eb76.js";import"./KtContactEditMessengers.e7b8855c.js";import"./KtContactEditSettings.4c91d7b3.js";import"./KtContactEditTable.591645fc.js";import"./KtContactEditTimezone.e93666d7.js";import{_ as R,a as w,b as V,c as h,d as Y,e as B}from"./KtContactWorkplace.ee3f3fbb.js";import P from"./KtContactTable.6889acca.js";import"./KtContactTableSkeleton.50b3f49f.js";import"./KtContactVisibilitySwitcherBtn.03366610.js";import"./QBadge.cb8db555.js";import"./vue-i18n.esm-bundler.e5a16dbd.js";import"./index.2f026771.js";import"./QBtnDropdown.41a9457c.js";import"./QMenu.8a4718ad.js";import"./QDate.59abae0b.js";import"./use-render-cache.3aae9b27.js";import"./ClosePopup.034ffd88.js";import"./QScrollArea.ec251a08.js";import"./QResizeObserver.988c698f.js";import"./QScrollObserver.bf79761e.js";import"./touch.9135741d.js";import"./QItemLabel.b302d2e1.js";import"./QTabs.a9c1b64a.js";import"./rtl.276c3f1b.js";import"./QExpansionItem.ec578cd9.js";import"./QImg.7d3e6d1d.js";import"./IndexPage.75cfb3f1.js";import"./QPagination.de182206.js";import"./QSelect.1740ff4d.js";import"./QChip.2708c0c7.js";import"./QSkeleton.d8507126.js";import"./QTabPanels.aa3c86a4.js";import"./index.43b0bc22.js";import"./_commonjsHelpers.2cf1d77b.js";const k={class:"kt-personal-contacts-read-mode"},Nt=v({__name:"KtPersonalInfoReadMode",setup(K){const m=D(),g=O(),{FIELDS:T}=E(g),{IS_OWN_PROFILE:F}=E(x()),N=c("M"),C=c("A");function c(t){const a=["NAME","LAST_NAME","SECOND_NAME","PERSONAL_PHOTO"];return T.value.filter(e=>e.sort.type===t&&!a.includes(e.name)&&!M(m.$state[e.name])&&(!e.management||F.value||!e.managementStatus)).sort((e,n)=>e.sort.value>n.sort.value?1:e.sort.value<n.sort.value?-1:0)}function _(t){switch(t.type){case"link":return r(B);case"phone":return r(Y);case"userField":return t.data.fieldInfo.USER_TYPE_ID==="employee"?r(w):t.name==="UF_WORKPLACE"?r(V):t.name==="UF_MESSENGERS"?r(h):r(R);default:return r(R)}}function I(t){const a=m.$state[t.name];switch(t.type){case"datetime":{if(t.name==="PERSONAL_BIRTHDAY")return m.PERSONAL_BIRTHDAY_FORMATTED;const e=t.data.dateViewFormat,n=new Date(a).getTime()/1e3;return a?BX.date.format(e,n):s}case"list":{const e=t.data.items.find(n=>String(n.VALUE)===String(a));return a?(e==null?void 0:e.NAME)||s:t.data.items[0].NAME}case"multilist":return typeof a=="object"&&a!=null?t.data.items.filter(n=>{const L=typeof n.VALUE=="string"?parseInt(n.VALUE):n.VALUE;return a.includes(L)}).map(n=>n.NAME).join(", "):null;case"timezone":return $({autoTimeZone:m.$state.AUTO_TIME_ZONE,timeZone:String(a)});case"userField":if(t.data.fieldInfo.USER_TYPE_ID==="boolean")return a?"\u0414\u0430":"\u041D\u0435\u0442";if(t.data.fieldInfo.USER_TYPE_ID==="date"){const e="d F Y",n=new Date(a).getTime()/1e3;return a?BX.date.format(e,n):s}return t.data.fieldInfo.USER_TYPE_ID==="employee"||t.name==="UF_MESSENGERS"||t.name==="UF_WORKPLACE"?a:a?String(a):s;default:return a?String(a):s}}function l(t){return{content:I(t),fieldCode:t.name,private:t.management,hidden:t.managementStatus}}return(t,a)=>(p(),U("div",k,[u(o(y),{"expand-text":t.$t("personalContacts.details.expandText"),"collapse-text":t.$t("personalContacts.details.collapseText")},{header:i(()=>[u(o(P),{rows:o(N)},{value:i(({row:e})=>[(p(),d(f(_(e)),S(A(l(e))),null,16))]),_:1},8,["rows"])]),default:i(()=>[u(o(P),{rows:o(C)},{value:i(({row:e})=>[(p(),d(f(_(e)),S(A(l(e))),null,16))]),_:1},8,["rows"])]),_:1},8,["expand-text","collapse-text"])]))}});export{Nt as default};
