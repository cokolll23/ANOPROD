import{dY as T,c as l,r as V,L as H,N as x,Y as K,x as a,y as u,z as B,S as c,e as _,V as e,$ as d,R as h,F as S,U as X,ad as Y}from"./index.a1748043.js";import{_ as f,h as J,n as D}from"./KtViewCounter.d7f8eb76.js";import{_ as U,a as j,K as w}from"./KtWidgetWrapper.6a945d5d.js";import"./QSkeleton.d8507126.js";import"./QBadge.cb8db555.js";import"./vue-i18n.esm-bundler.e5a16dbd.js";import"./index.2f026771.js";import"./QBtnDropdown.41a9457c.js";import"./QMenu.8a4718ad.js";import"./QDate.59abae0b.js";import"./use-render-cache.3aae9b27.js";import"./ClosePopup.034ffd88.js";import"./QScrollArea.ec251a08.js";import"./QResizeObserver.988c698f.js";import"./QScrollObserver.bf79761e.js";import"./touch.9135741d.js";import"./QItemLabel.b302d2e1.js";import"./QTabs.a9c1b64a.js";import"./rtl.276c3f1b.js";import"./QExpansionItem.ec578cd9.js";import"./QImg.7d3e6d1d.js";import"./IndexPage.75cfb3f1.js";import"./QPagination.de182206.js";import"./QSelect.1740ff4d.js";import"./QChip.2708c0c7.js";import"./QTabPanels.aa3c86a4.js";import"./index.43b0bc22.js";import"./useAvatarUploader.88af71b4.js";import"./grid.65269509.js";import"./plugin-vue_export-helper.21dcd24c.js";function O(v){const n=T(),r=l(()=>n.items.length?"read":"stub"),p=V(r.value);function m(t){p.value=t}async function y(t){const A=[...v.value];typeof t!="undefined"&&t!==""&&!A.includes(t)&&A.push(t),await n.add(A),v.value=[],m(r.value)}async function C(t){await n.remove(t)}function b(){v.value=[],m(r.value)}function g(t){t.length>0?n.loadTips(t):n.resetTips()}return{mode:p,changeMode:m,add:y,remove:C,cancel:b,search:g}}var P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANTSURBVHgB7VrbitRAED1Z3UXXK6IiKqIoiKggKuib3+GLf+qjj4uP4mVxvYCrst51vK2xajNhetqudCWpjMlsHzhkKqlUd3VXV6qTARISEhISEhK2K7I6ynme76DDOeJZ4nniXuIux1bJ3siEO6jATihBzi/T4SrxJnGf01iOAUM1AGPnbxNPYjpqSueznssiFmIK47C/Qjzhnsa08b7LIqIDgGK93zDqyP+QK6FZAqeJezTGhghNBHDWH+LMmy2BZcOO9G4JaAZgCcN0XBUBmhwwl2u/hHYA6jx3F4kHibuda5mn556TZEmfjx+IP5X9qYS2EtQ2xPYuEg+jGIA6pbZWl/UeEt9APzEiLCOAZ/4y8ZRgJxNsalHqbxL/OHak/riyCMsccIB4xOtAeb/vbMz5quujMU1yk+US4F1hKOw1M62NBp7958TPgfarZBGWS2AB4UTm29DA32Xy70/Et2Pmnk4vkuBT4hpa7t9ryLH+AIYRMLfQVIJDrgBNSuGuOjZLWcS2j4AucgC/OzhOPIR/B9gvcaXfL4jvMANYPgX491HiLRQ7yKZgW+6jrjyHFrIIyyXA7w0uYOJ8rCCS5N8oCp5Ye1q5EpYRwCF/DHJ4a+UN4nvMKALqVIKx0WRbi2gH3uI+IX5DvcqxMeokwVjp+ZW4iumZg6efCbZ4d8ez/pr4HXYzb7oE/Nreb+gVcR02pa6V46ZJMEeqA7agyQeDQZOngOu89VrtShaRSmHooB1x/pB6iXgGRVUYm4FQcg1FGctrxBVHDzCIAMu9ADfGjl9HUQ+EnAndE5JD5/3ZNYHlKzF+IXoNk2JIcsa3G5rtEDbQPBeIsFoCjP2Y/HPEvU9yqmq2fXCFuO7ZDfWnNqwioLS1JNwXXYsBcHX4C0V1+AhFeQyh/Sb2t2CZA14S7zqyZob9KtC/zgPA7wVGaOFkFSyfAh9RvLr2nbKSY+1XySK6+Dga2zNYyGawrgNCWb3u/RpZi1FMocvvArEaYBb4ElPoshTOa+pby3x8gAi6WAJtZauo4Q+oqzGlPm6GLMB27hEfxxTn9dsg1yQrWZZtxhT7uATayPxekmf+PjnvVo4iuqgDqmTJXhv8QJHtOdyf8VEz8wkJCQkJCQkJfwHrwT5Fb8QIWgAAAABJRU5ErkJggg==";const Q={class:"kt-competencies"},R={class:"kt-competencies__header"},F={class:"kt-competencies__content"},M={key:0,class:"kt-competencies__tags"},z={key:0,class:"kt-competencies__footer"},xe=H({__name:"KtCompetencies",setup(v){const n=V([]),{mode:r,changeMode:p,add:m,remove:y,cancel:C,search:b}=O(n),{items:g,tips:t}=x(T()),{CAN_EDIT:A}=x(K()),N=l(()=>g.value.map(o=>o.TITLE)),q=l(()=>t.value.map(o=>o.TITLE)),I=l(()=>r.value==="read"),E=l(()=>r.value==="edit"),k=l(()=>r.value==="stub"),Z=l(()=>E.value||k.value);return(o,s)=>(a(),u(e(w),null,{default:B(()=>[c("article",Q,[c("header",R,[_(e(U),{text:o.$t("competencies.title")},null,8,["text"]),I.value&&e(A)?(a(),u(e(f),{key:0,theme:"tertiary",icon:"pencil",round:"",dense:"",onClick:s[0]||(s[0]=i=>e(p)("edit"))})):d("",!0)]),c("div",F,[I.value?(a(),h("div",M,[(a(!0),h(S,null,X(e(g),i=>(a(),u(e(J),{key:i.ID,text:i.TITLE,href:`/company?apply_filter=Y&UF_COMPETENCE=${i.ID}`,outline:"",clickable:"",class:"kt-competencies__tag"},null,8,["text","href"]))),128))])):d("",!0),E.value?(a(),u(e(D),{key:1,modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=i=>n.value=i),tags:N.value,"hint-popover-tags":q.value,"hint-popover-text":o.$t("competencies.popup.description"),class:"kt-competencies__tag-select",onSubmit:e(m),"onTag:search":e(b),"onTag:remove":e(y)},null,8,["modelValue","tags","hint-popover-tags","hint-popover-text","onSubmit","onTag:search","onTag:remove"])):d("",!0),k.value?(a(),u(e(j),{key:2,icon:e(P),text:o.$t("competencies.stub.description")},null,8,["icon","text"])):d("",!0)]),Z.value?(a(),h("footer",z,[k.value?(a(),u(e(f),{key:0,theme:"primary",class:"q-mx-auto",onClick:s[2]||(s[2]=i=>e(p)("edit"))},{default:B(()=>[c("span",null,Y(o.$t("common.btn.add")),1),s[4]||(s[4]=c("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"20",fill:"none",class:"q-ml-sm"},[c("path",{fill:"currentColor",d:"M11.125 9.375V5h-1.25v4.375H5.5v1.25h4.375V15h1.25v-4.375H15.5v-1.25h-4.375Z"})],-1))]),_:1})):(a(),h(S,{key:1},[_(e(f),{theme:"primary",label:o.$t("common.btn.save"),onClick:s[3]||(s[3]=i=>e(m)())},null,8,["label"]),_(e(f),{theme:"ghost",label:o.$t("common.btn.cancel"),onClick:e(C)},null,8,["label","onClick"])],64))])):d("",!0)])]),_:1}))}});export{xe as default};
