import{L as y,x as a,y as _,h as n,al as S,N as b,d$ as g,R as k,U as E,z as o,e as r,V as t,av as $,ad as T,a8 as w,$ as R,F as D}from"./index.a1748043.js";import{Q}from"./QMenu.8a4718ad.js";import{_ as h}from"./KtWidgetLayoutRow.7ad5d39d.js";import{_ as z,a as A}from"./KtUserCardSkeleton.a94624ce.js";import{_ as B}from"./KtWidgetLayoutText.4eb60d33.js";import{Q as v}from"./QSkeleton.d8507126.js";const x=y({__name:"KtTree",props:{nodes:{},defaultExpandAll:{type:Boolean,default:!1}},setup(i){const l=i,c=e=>{const s=[];return e.children&&s.push(n(S,{name:"kt:tree-arrow-down",color:"app-grey-13",size:"10px",class:"kt-tree-node__arrow-icon"})),s.push(n("a",{class:"kt-tree-node__link",href:e.URL},e.label)),n("div",{class:"kt-tree-node__label"},s)},p=e=>Array.isArray(e.children)?n("div",{class:"kt-tree-node__children"},e.children.map(d)):null,d=e=>{const s=["kt-tree-node",e.children?"kt-tree-node--parent":"kt-tree-node--child"];return n("div",{class:s.join(" ")},[c(e),p(e)])},m=()=>n("div",{class:"kt-tree"},l.nodes.map(d));return(e,s)=>(a(),_(m))}});const F=y({__name:"KtStructure",setup(i){const{STRUCTURE:l,USERS:c,ownDivisions:p,ownDivisionDepths:d}=b(g()),m=e=>d.value[e]>2;return(e,s)=>(a(!0),k(D,null,E(t(l),(u,f)=>(a(),k("div",{key:f,class:"kt-structure"},[m(f)?(a(),_(t(h),{key:0,label:e.$t("structure.division")},{default:o(()=>[r(t(B),{color:"primary",class:"flex items-center"},{default:o(()=>[$(T(t(p)[f])+" ",1),r(w,{flat:"",round:"",icon:"kt:menu-round",color:"secondary",size:"12px",padding:"none"})]),_:2},1024),r(Q,{class:"q-pa-md"},{default:o(()=>[r(t(x),{nodes:u.TREE,"default-expand-all":""},null,8,["nodes"])]),_:2},1024)]),_:2},1032,["label"])):(a(),_(t(h),{key:1},{default:o(()=>[r(t(x),{nodes:u.TREE,"default-expand-all":""},null,8,["nodes"])]),_:2},1024)),u.HEAD?(a(),_(t(h),{key:2,label:e.$t("personalInfo.director"),"y-aligment":"center",class:"q-mb-none"},{default:o(()=>[r(t(z),{user:t(c)[u.HEAD],size:"md"},null,8,["user"])]),_:2},1032,["label"])):R("",!0)]))),128))}}),C={class:"kt-structure-skeleton"},H=y({__name:"KtStructureSkeleton",setup(i){return(l,c)=>(a(),k("div",C,[r(v,{type:"rect",width:"100%",height:"80px",class:"q-mb-sm"}),r(v,{type:"text",width:"120px",height:"15px",class:"q-mb-sm"}),r(t(A),{size:"md"})]))}});export{F as _,H as a};
