import{r as i,L as g,x as a,y as p,z as m,R as u,ad as v,aJ as y,F as c,U as f,a6 as h,ae as x,e as _,V as P,$ as T}from"./index.a1748043.js";import{Q as w}from"./QImg.7d3e6d1d.js";import{Q as H}from"./QMenu.8a4718ad.js";import{Q}from"./QChip.2708c0c7.js";import{_ as b}from"./KtUserCardSkeleton.a94624ce.js";function I(){const t=i(""),e=i([]),l=i(!1);return{newTagModel:t,preparedTags:e,isHintPopupVisible:l,addPrepared:o=>{if(typeof o!="undefined"){e.value.includes(o)||(e.value.push(o),t.value="");return}t.value!==""&&(e.value.push(t.value),t.value="")},removePrepared:o=>{t.value===""&&typeof o=="undefined"&&(o=e.value[e.value.length-1]),e.value=e.value.filter(k=>k!==o)},hideHintPopup:()=>{l.value=!1},showHintPopup:()=>{l.value=!0}}}const C=["href"],$={key:1,class:"kt-tag__text"},M=g({__name:"KtTag",props:{text:{},href:{},removable:{type:Boolean},users:{}},emits:["click","removeTag"],setup(t){const e=t;return(l,r)=>(a(),p(Q,{clickable:"",removable:e.removable,"icon-remove":"kt:remove",color:"primary","text-color":"white",class:"kt-tag",onClick:r[1]||(r[1]=n=>l.$emit("click")),onRemove:r[2]||(r[2]=n=>l.$emit("removeTag"))},{default:m(()=>{var n;return[e.href?(a(),u("a",{key:0,class:"kt-tag__text",href:e.href},"#"+v(e.text),9,C)):(a(),u("div",$,"#"+v(e.text),1)),((n=e.users)==null?void 0:n.length)>0?(a(),u("div",{key:2,class:"kt-tag__users",onClick:r[0]||(r[0]=y(()=>{},["stop"]))},[(a(!0),u(c,null,f(e.users,(s,d)=>(a(),p(h,{key:s.ID,color:s.PHOTO===null?"primary":"",style:x({"z-index":99-d}),size:"18px"},{default:m(()=>[_(w,{src:s.PHOTO,ratio:"1",width:"18px"},null,8,["src"])]),_:2},1032,["color","style"]))),128)),_(H,{class:"kt-tag__popup"},{default:m(()=>[(a(!0),u(c,null,f(e.users,s=>(a(),p(P(b),{key:s.ID,user:s,size:"xs"},null,8,["user"]))),128))]),_:1})])):T("",!0)]}),_:1},8,["removable"]))}});export{M as _,I as u};
