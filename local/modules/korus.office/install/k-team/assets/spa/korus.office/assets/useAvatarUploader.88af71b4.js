import{u}from"./vue-i18n.esm-bundler.e5a16dbd.js";import{aL as m,r as w,o as c}from"./index.a1748043.js";function v(){const{t:r}=u(),e=m();let o;const a=w(!0),i=()=>{typeof o!="undefined"&&typeof o.show=="function"&&o.show("camera")},s=()=>{typeof o!="undefined"&&typeof o.show=="function"&&o.show("file")},d=async()=>{!e.AVATAR||await e.deletePhoto()},f=async t=>{await e.loadPhoto(t)};return c(()=>{typeof window.BX=="undefined"||typeof window.BX.AvatarEditor!="function"||(o=new window.BX.AvatarEditor({enableCamera:!0}),o.getLimitText=()=>r("avatarUploader.limitText"),window.BX.AvatarEditor.isCameraAvailable()||(a.value=!1),window.BX.addCustomEvent(o,"onApply",t=>{const n=new FormData;t.name||(t.name="tmp.png"),n.append("newPhoto",t,t.name),f(n)}))}),{isCameraBtnVisible:a,createPhoto:i,uploadPhoto:s,removePhoto:d}}export{v as u};
