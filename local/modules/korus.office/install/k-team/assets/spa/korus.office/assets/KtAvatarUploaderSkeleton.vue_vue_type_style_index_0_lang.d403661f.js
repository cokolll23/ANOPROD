import{L as g,t as A,c as a,x as l,R as i,S as f,Q as P,ad as p,N as u,aL as O,Y as T,aM as $,e as t,z as r,a6 as D,a0 as E,a1 as K,V as e,av as h,$ as C,y as L,al as Q,a8 as R}from"./index.a1748043.js";import{Q as w}from"./QImg.7d3e6d1d.js";import{u as z}from"./useAvatarUploader.88af71b4.js";import{_ as S}from"./KtButton.5c4817ba.js";const F={class:"kt-user-status"},H={class:"kt-user-status__text"},J=g({__name:"KtUserStatus",props:{text:{},isOnline:{type:Boolean}},setup(v){const s=v,n=A({color:a(()=>s.isOnline?"app-green-2":"app-deep-orange-1")});return(d,m)=>(l(),i("div",F,[f("span",{class:P(["kt-user-status__circle",`bg-${n.color}`])},null,2),f("span",H,p(s.text),1)]))}});const M={key:0,class:"kt-avatar-uploader__load-actions"},X=g({__name:"KtAvatarUploader",setup(v){const{isCameraBtnVisible:s,createPhoto:n,uploadPhoto:d,removePhoto:m}=z(),{AVATAR:k,IS_AVATAR_DEFAULT:x}=u(O()),{CAN_EDIT:U,IS_OWN_PROFILE:B}=u(T()),b=$(),{FIELDS:N}=u(b),_=a(()=>N.value.find(o=>o.name==="PERSONAL_PHOTO")),c=a(()=>(B.value||U.value)&&(_==null?void 0:_.value.editable)),V=a(()=>[c.value?"is-edit-mode":""]),y=A({src:a(()=>k.value),bgColor:a(()=>k.value===null?"app-grey-13":"")}),I=a(()=>c.value&&!x.value);return(o,W)=>(l(),i("div",{class:P(["kt-avatar-uploader",V.value])},[t(D,{color:y.bgColor},{default:r(()=>[t(w,{src:y.src,ratio:"1"},null,8,["src"])]),_:1},8,["color"]),c.value?(l(),i("div",M,[E(t(e(S),{theme:"primary",class:"kt-avatar-uploader__create-btn",onClick:e(n)},{default:r(()=>[h(p(o.$t("avatarUploader.createPhotoBtn")),1)]),_:1},8,["onClick"]),[[K,e(s)]]),t(e(S),{theme:"primary",class:"kt-avatar-uploader__upload-btn",onClick:e(d)},{default:r(()=>[h(p(o.$t("avatarUploader.uploadPhotoBtn")),1)]),_:1},8,["onClick"])])):C("",!0),I.value?(l(),L(R,{key:1,flat:"",unelevated:"",padding:"0",class:"kt-avatar-uploader__remove-btn",onClick:e(m)},{default:r(()=>[t(Q,{name:"kt:close",size:"12px",color:"app-grey-8"})]),_:1},8,["onClick"])):C("",!0)],2))}});export{J as _,X as a};
